# Review Checklist

Use this checklist to evaluate architecture proposals. Any major gap should become a risk in the output.

## 1. Deployment and rollback safety
- 確認観点: デプロイとロールバックの手順は明確か。手順は反復可能で低リスクか。
- 期待状態: 手順がドキュメント化され、自動化され、ロールバック時間の目安がある。
- NG例: 手動手順のみ、ロールバック条件が未定義。
- 追加確認質問: 段階的リリースと即時ロールバックの判定条件は何か。

## 2. Service boundaries and ownership
- 確認観点: サービス境界と責任範囲は明確か。オンコール時の所有者は一意に定まるか。
- 期待状態: 境界、依存、責任チームが明示される。
- NG例: 共有責任が曖昧、責任者不在のコンポーネントがある。
- 追加確認質問: 障害時の一次対応チームとエスカレーション先はどこか。

## 3. SLI/SLO definition
- 確認観点: 重要フローに対して SLI/SLO が定義されているか。
- 期待状態: 可用性・レイテンシ・エラーレートの目標値と測定方法がある。
- NG例: 目標値なし、計測手段なし。
- 追加確認質問: SLO 違反時に自動で検知・通知できるか。

## 4. Structured logging and correlation IDs
- 確認観点: 構造化ログと相関 ID が全リクエストで利用されるか。
- 期待状態: 主要イベントで共通フィールドを持ち、跨サービス追跡が可能。
- NG例: プレーンテキストログのみ、相関 ID が一部欠落。
- 追加確認質問: サービス横断でトレースID/リクエストIDの伝播は担保されるか。

## 5. Metrics and traces coverage
- 確認観点: レイテンシ/失敗ホットスポットを分離可能なメトリクスとトレースがあるか。
- 期待状態: 依存先別の遅延と失敗率を可視化できる。
- NG例: 総量メトリクスのみで原因切り分け不能。
- 追加確認質問: P95/P99 とエラー分類をサービス境界ごとに見られるか。

## 6. Alert quality and noise control
- 確認観点: アラートは実行可能でノイズ抑制されているか。
- 期待状態: 優先度、ランブック、抑止条件、しきい値根拠がある。
- NG例: ノイズ過多、対応手順なし、責任者未設定。
- 追加確認質問: 誤検知率と見逃し率の評価方法はあるか。

## 7. Fault localization within 10 minutes (required gate)
- 確認観点: インシデント時に 10 分以内で主要故障領域を特定可能か。
- 期待状態: ダッシュボード、ログ相関、トレースにより一次切り分けが 10 分以内で完了。
- NG例: 人手調査前提で切り分けに長時間必要。
- 追加確認質問: 直近の障害シナリオで 10 分ルールを満たせる根拠は何か。

## 8. Resilience and degradation paths
- 確認観点: 依存障害時の縮退運転・再試行・タイムアウト戦略は定義されているか。
- 期待状態: フェイルオープン/フェイルクローズ方針とユーザー影響の上限が明確。
- NG例: 単一障害で全面停止、再試行暴走。
- 追加確認質問: 依存先ごとのサーキットブレーカ条件は何か。

## 9. Right-sized scaling strategy
- 確認観点: 現在と近未来需要に対して過不足ないスケーリング戦略か。
- 期待状態: スケール単位、ボトルネック、容量計画の前提が妥当。
- NG例: 過剰先行投資、または直近負荷に耐えない設計。
- 追加確認質問: 需要増加時の最初の限界点はどこか。

## 10. Cost drivers transparency
- 確認観点: 主要コスト（compute, storage, network, observability）が明示・正当化されるか。
- 期待状態: コスト要因ごとの見積り、増減トリガー、監視計画がある。
- NG例: 合計費用のみ、要因分解なし。
- 追加確認質問: コスト異常検知と見直しサイクルはどう運用するか。
